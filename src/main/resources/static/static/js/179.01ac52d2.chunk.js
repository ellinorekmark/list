"use strict";(self.webpackChunklistig_react_ui=self.webpackChunklistig_react_ui||[]).push([[179],{6879:(e,s,t)=>{t.d(s,{A:()=>a});var r=t(9217);class a{constructor(){this.baseUrl=r.C}async sendPost(e,s,t){const r=await fetch(this.baseUrl+e,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Basic "+t},body:JSON.stringify(s)});if(!r.ok){console.log(await r.json());const e=await r.json();throw new Error(e)}return await r.json()}async sendPostNoLogin(e,s){const t=await fetch(this.baseUrl+e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!t.ok){const e=await t.json();throw new Error(e)}return await t.json()}async sendGet(e,s){const t=await fetch(this.baseUrl+e,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Basic "+s}});if(!t.ok)throw new Error(await t.json());return await t.json()}async sendDelete(e,s,t){const r=await fetch(this.baseUrl+e,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Basic "+t},body:JSON.stringify(s)});if(!r.ok)throw new Error(await r.json());return await r.json()}}},9007:(e,s,t)=>{t.d(s,{A:()=>o});var r=t(5865),a=t(6446),n=(t(5043),t(579));const o=e=>{let{title:s}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(a.A,{sx:{paddingTop:2},children:[(0,n.jsx)(r.A,{fontSize:"xx-large",sx:{fontFamily:"Garamond",color:"primary.main"},children:(0,n.jsx)("strong",{children:s})}),(0,n.jsx)("br",{})]})})}},4179:(e,s,t)=>{t.r(s),t.d(s,{default:()=>b});var r=t(5043),a=t(1906),n=t(9613),o=t(835),i=t(6446),l=t(5865),d=t(3389),c=t(203),h=t(9007),x=t(6890),u=t(3766),m=t(6605),j=t(710),w=t(5146),p=t(1637),f=t(6879),g=t(579);const A=new f.A,y=()=>{const{loginDetails:e,user:s,saveUser:t}=(0,r.useContext)(n.c),[o,d]=(0,r.useState)(""),[c,h]=(0,r.useState)(""),[x,f]=(0,r.useState)(""),[y,b]=(0,r.useState)(!1),[v,C]=(0,r.useState)(!1),[S,k]=(0,r.useState)(!1),[z,P]=(0,r.useState)(!1),[T,E]=(0,r.useState)(!1);return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(i.A,{children:(0,g.jsxs)(u.A,{sx:{mx:"auto",mt:2,border:"1px solid",borderColor:"primary.darker",borderRadius:2},children:[(0,g.jsx)(m.A,{children:(0,g.jsx)(i.A,{sx:{width:"100%",display:"flex",justifyContent:"center"},children:(0,g.jsx)(l.A,{p:1,fontSize:"large",children:"Change password"})})}),(0,g.jsxs)(j.A,{children:[T&&(0,g.jsx)(l.A,{color:"success",children:"Password has been changed."}),(0,g.jsx)(w.A,{fullWidth:!0,id:"old-password",label:"Current Password",type:"password",variant:"outlined",margin:"normal",value:o,onChange:e=>d(e.target.value)}),v&&(0,g.jsx)(l.A,{color:"error",children:"Old password is incorrect."}),(0,g.jsx)(w.A,{fullWidth:!0,id:"new-password",label:"New Password",type:"password",variant:"outlined",margin:"normal",value:c,onChange:e=>h(e.target.value)}),(0,g.jsx)(w.A,{fullWidth:!0,id:"password-confirm",label:"Confirm Password",type:"password",variant:"outlined",margin:"normal",value:x,onChange:e=>f(e.target.value)}),S&&(0,g.jsx)(l.A,{color:"error",children:"Passwords don't match."}),y?(0,g.jsx)(i.A,{sx:{display:"flex",justifyContent:"center",mt:4},children:(0,g.jsx)(p.A,{})}):(0,g.jsx)(a.A,{fullWidth:!0,variant:"outlined",sx:{mt:1,p:1},onClick:async function(){if(b(!0),k(!1),C(!1),P(!1),btoa(s.username+":"+o)!==e)C(!0);else if(c!==x)k(!0);else try{const r=await A.sendPost("user/newPassword",{password:c},e);t(s.username,c,r),E(!0)}catch(r){P(!0)}b(!1)},children:"Change password"})]})]})})})},b=()=>{const{user:e,logout:s}=(0,r.useContext)(n.c),{theme:t,toggleTheme:u}=(0,r.useContext)(x.D),[m,j]=(0,r.useState)(""),w=(0,o.Zp)(),p=new Date(e.memberSince);(0,r.useEffect)((()=>{j(p.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}))}),[t,u]);return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(i.A,{maxWidth:300,sx:{mx:"auto"},children:[(0,g.jsxs)(i.A,{sx:{paddingTop:2},children:[(0,g.jsx)(h.A,{title:"Profile"}),(0,g.jsx)(a.A,{variant:"outlined",sx:{mt:1,p:1},onClick:u,children:"light"===t?(0,g.jsx)(c.A,{sx:{color:"secondary.main"}}):(0,g.jsx)(d.A,{sx:{color:"secondary.main"}})}),(0,g.jsxs)(i.A,{sx:{width:300,mx:"auto",mt:2,border:"1px solid",borderColor:"primary.darker",borderRadius:2},children:[(0,g.jsx)(l.A,{fontSize:"large",sx:{fontFamily:"Garamond"},children:"Username:"}),(0,g.jsx)(l.A,{sx:{marginBottom:1},children:e.username}),(0,g.jsx)(l.A,{fontSize:"large",sx:{fontFamily:"Garamond"},children:"Email:"}),(0,g.jsx)(l.A,{sx:{marginBottom:1},children:e.email}),(0,g.jsx)(l.A,{fontSize:"large",sx:{fontFamily:"Garamond"},children:"Member since:"}),(0,g.jsx)(l.A,{sx:{marginBottom:1},children:m})]})]}),(0,g.jsxs)(i.A,{sx:{width:300,mx:"auto",mt:2},children:[(0,g.jsx)(a.A,{fullWidth:!0,variant:"outlined",sx:{mt:1,p:1},onClick:async()=>{s(),w("/")},children:"Logout"}),(0,g.jsx)("br",{}),(0,g.jsx)("br",{}),(0,g.jsx)(y,{})]})]})})}},203:(e,s,t)=>{var r=t(4994);s.A=void 0;var a=r(t(39)),n=t(579);s.A=(0,a.default)((0,n.jsx)("path",{d:"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.98 0-5.4-2.42-5.4-5.4 0-1.81.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1"}),"DarkMode")},3389:(e,s,t)=>{var r=t(4994);s.A=void 0;var a=r(t(39)),n=t(579);s.A=(0,a.default)((0,n.jsx)("path",{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5M2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1m18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1M11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1m0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1M5.99 4.58c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41zm12.37 12.37c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0 .39-.39.39-1.03 0-1.41zm1.06-10.96c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0zM7.05 18.36c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0z"}),"LightMode")}}]);
//# sourceMappingURL=179.01ac52d2.chunk.js.map