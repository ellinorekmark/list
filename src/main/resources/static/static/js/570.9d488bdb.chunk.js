"use strict";(self.webpackChunklistig_react_ui=self.webpackChunklistig_react_ui||[]).push([[570],{6879:(e,n,t)=>{t.d(n,{A:()=>r});var s=t(9217);class r{constructor(){this.baseUrl=s.C}async sendPost(e,n,t){const s=await fetch(this.baseUrl+e,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Basic "+t},body:JSON.stringify(n)});if(!s.ok){console.log(await s.json());const e=await s.json();throw new Error(e)}return await s.json()}async sendPostNoLogin(e,n){const t=await fetch(this.baseUrl+e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!t.ok){const e=await t.json();throw new Error(e)}return await t.json()}async sendGet(e,n){const t=await fetch(this.baseUrl+e,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Basic "+n}});if(!t.ok)throw new Error(await t.json());return await t.json()}async sendDelete(e,n,t){const s=await fetch(this.baseUrl+e,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Basic "+t},body:JSON.stringify(n)});if(!s.ok)throw new Error(await s.json());return await s.json()}}},9007:(e,n,t)=>{t.d(n,{A:()=>o});var s=t(5865),r=t(6446),i=(t(5043),t(579));const o=e=>{let{title:n}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(r.A,{sx:{paddingTop:2},children:[(0,i.jsx)(s.A,{fontSize:"xx-large",sx:{fontFamily:"Garamond",color:"primary.main"},children:(0,i.jsx)("strong",{children:n})}),(0,i.jsx)("br",{})]})})}},5570:(e,n,t)=>{t.r(n),t.d(n,{default:()=>ae});var s=t(5043),r=t(835),i=t(6446),o=t(1637),l=t(5865),a=t(9613),d=t(5081),c=t.n(d),x=t(7285),h=t(6879),u=t(7392),j=t(7555),p=t(3531),m=t(35),A=t(6600),g=t(5316),f=t(3766),y=t(6605),w=t(710),v=t(1906),C=t(9347),b=t(5146),S=t(3193),k=t(1659),I=t(6990),L=t(3471),E=t(579);const R=new h.A;function W(){return null}const T=e=>{let{list:n,updateCopy:t}=e;const{loginDetails:r}=(0,s.useContext)(a.c),[o,d]=(0,s.useState)(""),[c,x]=(0,s.useState)("VIEWER"),[h,j]=(0,s.useState)(!1),[p,m]=(0,s.useState)(""),A=n.editors||[],g=n.viewers||[],C=(e,s)=>{let r=[...A],i=[...g];"EDITOR"===s?(i=i.filter((n=>n!==e)),r.includes(e)||r.push(e)):"VIEWER"===s&&(r=r.filter((n=>n!==e)),i.includes(e)||i.push(e));const o={...n,editors:r,viewers:i};t(o)},T=e=>{const s={...n,editors:A.filter((n=>n!==e)),viewers:g.filter((n=>n!==e))};t(s)};return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(f.A,{children:[(0,E.jsx)(y.A,{id:"panel-header","aria-controls":"panel-content",sx:{backgroundColor:"primary.main"},children:(0,E.jsx)(i.A,{sx:{width:"100%",display:"flex",justifyContent:"center"},children:(0,E.jsx)(l.A,{p:1,fontSize:"large",children:"Users"})})}),(0,E.jsxs)(w.A,{children:[(0,E.jsx)("br",{}),A.length>0||g.length>0?(0,E.jsxs)(E.Fragment,{children:[A.map(((e,n)=>(0,E.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",marginBottom:1},children:[(0,E.jsx)(l.A,{sx:{flexGrow:1,marginLeft:2},children:e}),(0,E.jsx)(S.A,{sx:{width:100,marginRight:2},children:(0,E.jsxs)(k.A,{value:"EDITOR",onChange:n=>C(e,n.target.value),children:[(0,E.jsx)(I.A,{value:"EDITOR",children:"Editor"}),(0,E.jsx)(I.A,{value:"VIEWER",children:"Viewer"})]})}),(0,E.jsx)(u.A,{onClick:()=>T(e),color:"error",children:(0,E.jsx)(L.A,{})})]},n))),g.map(((e,n)=>(0,E.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",marginBottom:1},children:[(0,E.jsx)(l.A,{sx:{flexGrow:1,marginLeft:2},children:e}),(0,E.jsx)(S.A,{sx:{width:100,marginRight:2},children:(0,E.jsxs)(k.A,{value:"VIEWER",onChange:n=>C(e,n.target.value),children:[(0,E.jsx)(I.A,{value:"EDITOR",children:"Editor"}),(0,E.jsx)(I.A,{value:"VIEWER",children:"Viewer"})]})}),(0,E.jsx)(u.A,{onClick:()=>T(e),color:"error",children:(0,E.jsx)(L.A,{})})]},n)))]}):(0,E.jsx)(l.A,{sx:{marginLeft:2},children:"No users, only you have access to this list."})]})]}),(0,E.jsxs)(f.A,{children:[(0,E.jsx)(y.A,{id:"panel-header","aria-controls":"panel-content",sx:{backgroundColor:"primary.main"},children:(0,E.jsx)(i.A,{sx:{width:"100%",display:"flex",justifyContent:"center"},children:(0,E.jsx)(l.A,{p:1,fontSize:"large",children:"Add User"})})}),(0,E.jsxs)(w.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,E.jsx)(S.A,{sx:{maxWidth:350,marginBottom:2},children:(0,E.jsx)(b.A,{inputProps:{maxLength:50},id:"new-item",label:"Username",variant:"outlined",value:o,onChange:e=>d(e.target.value),fullWidth:!0})}),(0,E.jsxs)(i.A,{sx:{display:"flex",justifyContent:"space-between",width:"100%",maxWidth:350},children:[(0,E.jsx)(S.A,{sx:{width:"48%"},children:(0,E.jsxs)(k.A,{value:c,onChange:e=>{x(e.target.value)},inputProps:{name:"role",id:"uncontrolled-native"},sx:{width:"100%"},children:[(0,E.jsx)(I.A,{value:"VIEWER",children:"Viewer"}),(0,E.jsx)(I.A,{value:"EDITOR",children:"Editor"})]})}),h?(0,E.jsx)(W,{}):(0,E.jsx)(v.A,{onClick:async()=>{j(!0),m("");try{if(!0===await R.sendPost("user/userExists",{username:o},r)){const e={...n,editors:"EDITOR"===c?[...A,o]:A,viewers:"VIEWER"===c?[...g,o]:g};d(""),x("VIEWER"),t(e)}else m("The username does not exist.")}catch(e){m("An error occurred while checking the username.")}finally{j(!1)}},variant:"outlined",sx:{height:"56px",width:"48%"},children:"Add User"})]}),(0,E.jsx)("br",{}),(0,E.jsxs)(l.A,{color:"error",children:[" ",p]})]})]})]})},D=e=>{let{uList:n}=e;return(0,E.jsx)(E.Fragment,{children:(0,E.jsxs)(i.A,{p:2,children:[(0,E.jsxs)(i.A,{sx:{display:"flex"},children:[(0,E.jsx)(l.A,{fontSize:"large",sx:{fontFamily:"Garamond"},minWidth:100,children:(0,E.jsx)("strong",{children:"Owner: "})}),(0,E.jsx)(l.A,{fontSize:"large",children:n.owner})]}),!n.editors||0!==n.editors.length&&(0,E.jsxs)(i.A,{sx:{display:"flex"},children:[(0,E.jsx)(l.A,{fontSize:"large",sx:{fontFamily:"Garamond"},minWidth:100,children:(0,E.jsx)("strong",{children:"Editors: "})}),(0,E.jsx)(i.A,{children:n.editors.map((e=>(0,E.jsx)(l.A,{fontSize:"large",children:e},e)))})]}),!n.viewers||n.viewers.length>0&&(0,E.jsxs)(i.A,{sx:{display:"flex"},children:[(0,E.jsx)(l.A,{fontSize:"large",sx:{fontFamily:"Garamond"},minWidth:100,children:(0,E.jsx)("strong",{children:"Viewers: "})}),(0,E.jsx)(i.A,{children:n.viewers.map((e=>(0,E.jsx)(l.A,{fontSize:"large",children:e},e)))})]})]})})},z=e=>{let{list:n,updateCopy:t}=e;const{user:r}=(0,s.useContext)(a.c);return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(f.A,{children:[(0,E.jsx)(y.A,{id:"panel-header","aria-controls":"panel-content",sx:{backgroundColor:"primary.main"},children:(0,E.jsx)(i.A,{sx:{width:"100%",display:"flex",justifyContent:"center"},children:(0,E.jsx)(l.A,{p:1,fontSize:"large",children:"List Details"})})}),(0,E.jsxs)(w.A,{children:[(0,E.jsx)("br",{}),(0,E.jsx)(b.A,{inputProps:{maxLength:100},id:"list-title",label:"Title",variant:"outlined",value:n.listInfo.listName,onChange:e=>(e=>{const s={...n,listInfo:{...n.listInfo,listName:e}};t(s)})(e.target.value),fullWidth:!0,sx:{marginBottom:1}}),(0,E.jsx)(b.A,{inputProps:{maxLength:100},id:"list-desc",label:"Description (optional)",variant:"outlined",value:n.listInfo.listDesc,onChange:e=>(e=>{const s={...n,listInfo:{...n.listInfo,listDesc:e}};t(s)})(e.target.value),fullWidth:!0,sx:{marginBottom:1}}),(0,E.jsxs)(S.A,{children:[(0,E.jsx)(l.A,{children:"List type:"}),(0,E.jsxs)(k.A,{value:n.listInfo.type,onChange:e=>{const s={...n,listInfo:{...n.listInfo,type:e.target.value}};t(s)},sx:{width:200,marginBottom:2},children:[(0,E.jsx)(I.A,{value:"BASIC",children:"Normal"}),(0,E.jsx)(I.A,{value:"CHECK",children:"Checklist"})]})]})]})]}),n.owner===r.username?(0,E.jsx)(T,{list:n,updateCopy:t}):(0,E.jsxs)(f.A,{children:[(0,E.jsx)(y.A,{id:"panel-header","aria-controls":"panel-content",sx:{backgroundColor:"primary.main"},children:(0,E.jsx)(i.A,{sx:{width:"100%",display:"flex",justifyContent:"center"},children:(0,E.jsx)(l.A,{p:1,fontSize:"large",children:"Users"})})}),(0,E.jsx)(w.A,{children:(0,E.jsx)(D,{uList:n})})]})]})};var F=t(3159),P=t(9007);const O=new h.A,B=e=>{let{uList:n,updateList:t}=e;const{loginDetails:o,user:d}=(0,s.useContext)(a.c),[c,x]=(0,s.useState)(!1),[h,j]=(0,s.useState)({...n}),[p,b]=(0,s.useState)(!1),S=(0,r.Zp)();function k(){x(!1)}function I(){return n.owner===d.username}return(0,s.useEffect)((()=>{b(I)}),[d]),(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(u.A,{variant:"outlined",onClick:function(){x(!0)},sx:{color:"secondary.main"},children:(0,E.jsx)(F.A,{})}),(0,E.jsxs)(m.A,{fullScreen:!0,open:c,onClose:k,children:[(0,E.jsx)(A.A,{textAlign:"center",children:(0,E.jsx)(P.A,{title:"Edit List"})}),(0,E.jsx)(g.A,{children:(0,E.jsxs)(i.A,{maxWidth:400,sx:{mx:"auto",cursor:"pointer",border:"1px solid ",borderColor:"primary.darker",marginTop:"5px",borderRadius:"5px"},variant:"contained",children:[(0,E.jsx)(z,{list:h,updateCopy:function(e){j(e)}}),p?(0,E.jsxs)(f.A,{children:[(0,E.jsx)(y.A,{id:"panel-header","aria-controls":"panel-content",sx:{backgroundColor:"primary.main"},children:(0,E.jsx)(i.A,{sx:{width:"100%",display:"flex",justifyContent:"center"},children:(0,E.jsx)(l.A,{p:1,fontSize:"large",children:"Delete list"})})}),(0,E.jsxs)(w.A,{sx:{justifyContent:"center"},children:[(0,E.jsxs)(l.A,{textAlign:"center",p:1,children:["Warning: ",(0,E.jsx)("br",{}),"Deleting a list cannot be reversed."]}),(0,E.jsx)(v.A,{onClick:async function(){await O.sendDelete("list",n.listInfo.id,o),x(!1),S("/web/overview")},variant:"contained",sx:{padding:2},color:"warning",fullWidth:!0,children:"Delete list"})]})]}):(0,E.jsxs)(f.A,{children:[(0,E.jsx)(y.A,{id:"panel-header","aria-controls":"panel-content",sx:{backgroundColor:"primary.darker"},children:(0,E.jsx)(i.A,{sx:{width:"100%",display:"flex",justifyContent:"center"},children:(0,E.jsx)(l.A,{p:1,fontSize:"large",children:"Leave"})})}),(0,E.jsxs)(w.A,{sx:{justifyContent:"center"},children:[(0,E.jsxs)(l.A,{textAlign:"center",p:1,children:["Warning: ",(0,E.jsx)("br",{}),"If you want to come back, the owner will have to add you again."]}),(0,E.jsx)(v.A,{onClick:async function(){await O.sendPost("list/removeUser",{user:d.username,listId:n.listInfo.id},o),x(!1),S("/web/overview")},variant:"contained",sx:{padding:2},color:"warning",fullWidth:!0,children:"Leave list"})]})]})]})}),(0,E.jsxs)(C.A,{sx:{justifyContent:"center"},children:[(0,E.jsx)(v.A,{onClick:k,variant:"contained",children:"Cancel"}),(0,E.jsx)(v.A,{onClick:function(){let e=[],s=[];n.editors!==h.editors&&(e=n.editors.filter((e=>!h.editors.includes(e)))),n.viewers!==h.viewers&&(s=n.viewers.filter((e=>!h.viewers.includes(e)))),e.concat(s).forEach((e=>{O.sendPost("list/removeUser",{user:e,listId:n.listInfo.id},o)})),console.log("This is the updated, copy:",JSON.stringify(h)),t(h),x(!1)},variant:"contained",children:"Save Changes"})]})]})]})};var U=t(5721),N=t(1322),V=t(3851),G=t(8734),J=t(4208),_=t(6581),H=t(4109);const K=e=>{let{uList:n,updateList:t}=e;const{user:r}=(0,s.useContext)(a.c),[o,l]=(0,s.useState)((()=>r.username===n.owner||n.editors.includes(r.username)));return(0,E.jsx)(E.Fragment,{children:(0,E.jsx)(U.A,{children:n.items.map((e=>{return(0,E.jsxs)(N.Ay,{sx:{cursor:"pointer",border:"1px solid ",borderColor:"primary.darker",marginTop:"5px",borderRadius:"5px"},onClick:()=>(e=>{if(o){const s=n.items.map((n=>n.id===e?{...n,itemStatus:"1"===n.itemStatus?"":"1"}:n));t({...n,items:s})}})(e.id),children:[(0,E.jsx)(V.A,{children:(0,E.jsx)(i.A,{children:(s=e.itemStatus,"1"===s?(0,E.jsx)(_.A,{sx:{color:"secondary.main"}}):(0,E.jsx)(H.A,{sx:{color:"secondary.main"}}))})}),(0,E.jsx)(G.A,{primary:e.item,primaryTypographyProps:{fontSize:"18px"}}),(0,E.jsx)(u.A,{edge:"end",children:(0,E.jsx)(J.A,{})})]},e.id);var s}))})})},Z=e=>{let{uList:n}=e;return(0,E.jsx)(E.Fragment,{children:(0,E.jsx)(U.A,{children:n.items.map((e=>(0,E.jsxs)(N.Ay,{sx:{cursor:"pointer",border:"1px solid ",borderColor:"primary.darker",marginTop:"5px",borderRadius:"5px"},children:[(0,E.jsx)(V.A,{children:(0,E.jsx)(i.A,{})}),(0,E.jsx)(G.A,{primary:e.item,primaryTypographyProps:{fontSize:"18px"}}),(0,E.jsx)(u.A,{edge:"end",children:(0,E.jsx)(J.A,{})})]},e.id)))})})};var M=t(6893),Y=t(635),q=t(9409),Q=t(155);const X=new h.A,$=e=>{let{uList:n,updateList:t}=e;const{loginDetails:r}=(0,s.useContext)(a.c);return(0,E.jsx)(E.Fragment,{children:(0,E.jsx)(U.A,{children:(0,E.jsx)(Y.JY,{onDragEnd:e=>{if(!e.destination)return;const s=e.source.index,r=e.destination.index,i=[...n.items],[o]=i.splice(s,1);i.splice(r,0,o),i.forEach(((e,n)=>{e.itemOrder=n+1})),n.items=i,t(n)},children:(0,E.jsx)(Y.gL,{droppableId:"items",children:e=>(0,E.jsxs)(i.A,{ref:e.innerRef,...e.droppableProps,children:[n.items.map(((e,n)=>(0,E.jsx)(Y.sx,{index:n,draggableId:e.id+"",children:n=>(0,E.jsxs)(N.Ay,{ref:n.innerRef,...n.draggableProps,...n.dragHandleProps,sx:{cursor:"pointer",border:"1px solid ",borderColor:"primary.darker",marginTop:"5px",borderRadius:"5px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,E.jsx)(V.A,{children:(0,E.jsx)(i.A,{children:(0,E.jsx)(q.A,{})})}),(0,E.jsx)(G.A,{primary:e.item,primaryTypographyProps:{fontSize:"18px"}}),(0,E.jsx)(u.A,{edge:"end","aria-label":"delete",onClick:()=>(async e=>{const n=await X.sendDelete("list/item",e,r);t(n)})(e),children:(0,E.jsx)(Q.A,{})})]})},e.id))),e.placeholder]})})})})})};var ee=t(2505);const ne=e=>{let{uList:n,updateList:t}=e;const[r,o]=(0,s.useState)(""),[a,d]=(0,s.useState)(""),c=(0,s.useRef)();(0,s.useEffect)((()=>{c.current&&c.current.focus()}),[]);function x(e,t){const s={listId:n.listInfo.id,item:e,itemOrder:t.items.length+1};return{...t,items:[...t.items,s]}}const h=()=>{if(""===r.trim())return;let e=x(r,n);t(e),o(""),c.current.focus()};return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("form",{onSubmit:e=>{e.preventDefault(),h()},children:(0,E.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",mt:2},children:[(0,E.jsx)(b.A,{inputProps:{maxLength:200},id:"new-item",label:"New Item",variant:"outlined",value:r,onChange:e=>o(e.target.value),fullWidth:!0,sx:{height:"56px"},inputRef:c,InputProps:{sx:{borderTopRightRadius:0,borderBottomRightRadius:0,"& .MuiOutlinedInput-notchedOutline":{borderTopRightRadius:0,borderBottomRightRadius:0},height:"56px",borderColor:"primary.darker"}}}),(0,E.jsx)(v.A,{type:"submit",variant:"outlined",sx:{borderTopLeftRadius:0,borderBottomLeftRadius:0,height:"56px",minWidth:"56px"},children:(0,E.jsx)(ee.A,{})})]})}),(0,E.jsx)("br",{}),(0,E.jsxs)(f.A,{sx:{mx:"auto",mt:2,border:"1px solid",borderColor:"primary.darker",borderRadius:2},children:[(0,E.jsx)(y.A,{children:(0,E.jsx)(i.A,{sx:{width:"100%",display:"flex",justifyContent:"center"},children:(0,E.jsx)(l.A,{fontSize:"large",color:"primary.main",children:"Add Items in Bulk"})})}),(0,E.jsxs)(w.A,{children:[(0,E.jsx)(l.A,{fontSize:"small",color:"primary.darker",sx:{paddingBottom:1},children:"Separate items by new line."}),(0,E.jsx)(b.A,{inputProps:{maxLength:200},id:"bulk-add",label:"Bulk add",variant:"outlined",value:a,onChange:e=>d(e.target.value),fullWidth:!0,multiline:!0,minRows:3,InputProps:{sx:{height:"112px",borderColor:"primary.darker"}}}),(0,E.jsx)(v.A,{variant:"outlined",p:1,fullWidth:!0,onClick:function(){let e={...n};a.split(/\r?\n/).forEach((n=>{""!==n.trim()&&(e=x(n,e))})),t(e),d("")},children:"Add items"})]})]})]})};var te=t(8348);const se=new h.A,re=e=>{let{uList:n}=e;const{loginDetails:t,user:o}=(0,s.useContext)(a.c),[d,c]=(0,s.useState)(!1),x=(0,r.Zp)();function h(){c(!1)}return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(u.A,{variant:"outlined",onClick:function(){c(!0)},sx:{color:"secondary.main"},children:(0,E.jsx)(te.A,{})}),(0,E.jsxs)(m.A,{fullScreen:!0,open:d,onClose:h,children:[(0,E.jsx)(A.A,{children:(0,E.jsx)(i.A,{sx:{paddingTop:2},children:(0,E.jsx)(l.A,{fontSize:"xx-large",sx:{fontFamily:"Garamond",textAlign:"center"},children:"List Info"})})}),(0,E.jsx)(g.A,{children:(0,E.jsxs)(i.A,{maxWidth:400,sx:{mx:"auto",border:"1px solid ",borderColor:"primary.darker",marginTop:"5px",borderRadius:"5px"},variant:"contained",children:[(0,E.jsx)(D,{uList:n}),(0,E.jsxs)(f.A,{children:[(0,E.jsx)(y.A,{id:"panel-header","aria-controls":"panel-content",sx:{backgroundColor:"primary.main"},children:(0,E.jsx)(i.A,{sx:{width:"100%",display:"flex",justifyContent:"center"},children:(0,E.jsx)(l.A,{p:1,fontSize:"large",children:"Leave"})})}),(0,E.jsxs)(w.A,{sx:{justifyContent:"center"},children:[(0,E.jsxs)(l.A,{textAlign:"center",p:1,children:["Warning: ",(0,E.jsx)("br",{}),"If you want to come back, the owner will have to add you again."]}),(0,E.jsx)(v.A,{onClick:async function(){await se.sendPost("list/removeUser",{user:o.username,listId:n.listInfo.id},t),c(!1),x("/web/overview")},variant:"contained",sx:{padding:2},color:"error",fullWidth:!0,children:"Leave list"})]})]})]})}),(0,E.jsx)(C.A,{sx:{justifyContent:"center"},children:(0,E.jsx)(v.A,{onClick:h,variant:"contained",children:"Close"})})]})]})},ie=e=>{let{uList:n,updateList:t}=e;const{user:r}=(0,s.useContext)(a.c),[o,d]=(0,s.useState)(!0),[c,x]=(0,s.useState)((()=>r.username===n.owner||n.editors.includes(r.username)));return(0,E.jsx)(E.Fragment,{children:(0,E.jsxs)(i.A,{maxWidth:750,sx:{mx:"auto"},variant:"contained",children:[(0,E.jsxs)(i.A,{children:[(0,E.jsx)(P.A,{title:n.listInfo.listName}),(0,E.jsxs)(i.A,{sx:{display:"grid",border:"1px solid ",borderColor:"primary.darker",borderRadius:2,m:2},children:[(0,E.jsx)(i.A,{sx:{marginBottom:2,gridRow:"1",gridColumn:"1 / 2",m:1},children:(0,E.jsxs)(l.A,{fontSize:"large",sx:{fontFamily:"Garamond",textAlign:"left"},children:[n.listInfo.listDesc,(0,E.jsx)("br",{})]})}),(0,E.jsx)(i.A,{sx:{gridRow:"1",gridColumn:"3"},children:c?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(B,{uList:n,updateList:t}),(0,E.jsx)(u.A,{variant:"outlined",onClick:()=>{d(!o)},children:o?(0,E.jsx)(j.A,{sx:{color:"secondary.main"}}):(0,E.jsx)(p.A,{sx:{color:"secondary.main"}})})]}):(0,E.jsx)(re,{uList:n})}),(0,E.jsx)(l.A,{sx:{gridRow:"2",gridColumn:"1 / 3",textAlign:"left",p:1},children:(()=>{if(n.owner===r.username&&0===n.editors.length&&0===n.viewers.length)return(0,E.jsx)("br",{});{const e=[...n.editors,...n.viewers].join(", "),t=n.owner+", "+e;return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(M.A,{sx:{verticalAlign:"middle",mr:1}}),t]})}})()})]})]}),o?(0,E.jsx)(i.A,{children:(h=n,"CHECK"===h.listInfo.type?(0,E.jsx)(K,{uList:n,updateList:t}):(0,E.jsx)(Z,{uList:n}))}):(0,E.jsx)($,{uList:n,updateList:t}),c&&(0,E.jsx)(ne,{uList:n,updateList:t})]})});var h};var oe=t(9217);const le=new h.A,ae=()=>{const{id:e}=(0,r.g)(),{loginDetails:n}=(0,s.useContext)(a.c),[t,d]=(0,s.useState)(!0),[h,u]=(0,s.useState)(null),[j,p]=(0,s.useState)(null),[m,A]=(0,s.useState)(!1);(0,s.useEffect)((()=>{(async()=>{try{const t=await le.sendGet("list/".concat(e),n);u(t)}catch(t){A(!0)}finally{d(!1)}})();const t=new(c())(oe.y),s=new x.K({webSocketFactory:()=>t,onConnect:()=>{console.log("Connected to WebSocket"),s.subscribe("/topic/list/".concat(e),(e=>{const n=JSON.parse(e.body);u(n)}))},onStompError:e=>{console.error("Broker reported error: "+e.headers.message),console.error("Additional details: "+e.body)}});return s.activate(),p(s),()=>{s&&s.connected&&s.deactivate()}}),[e,n]);return(0,E.jsx)(E.Fragment,{children:t?(0,E.jsxs)(i.A,{children:[(0,E.jsx)(o.A,{}),(0,E.jsx)(l.A,{children:"Loading List"})]}):(0,E.jsx)(E.Fragment,{children:m?(0,E.jsx)(l.A,{children:"Unable to load list."}):(0,E.jsx)(ie,{uList:h,updateList:n=>{j&&j.connected&&(j.publish({destination:"/app/list/".concat(e),body:JSON.stringify(n)}),console.log("Sent update to WebSocket"))}})})})}}}]);
//# sourceMappingURL=570.9d488bdb.chunk.js.map