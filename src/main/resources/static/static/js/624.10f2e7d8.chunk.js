"use strict";(self.webpackChunklistig_react_ui=self.webpackChunklistig_react_ui||[]).push([[624],{6879:(s,e,t)=>{t.d(e,{A:()=>r});var a=t(9217);class r{constructor(){this.baseUrl=a.C1}async sendPost(s,e,t){const a=await fetch(this.baseUrl+s,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Basic "+t},body:JSON.stringify(e)});if(!a.ok){console.log(await a.json());const s=await a.json();throw new Error(s)}return await a.json()}async sendPostNoLogin(s,e){const t=await fetch(this.baseUrl+s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const s=await t.json();throw new Error(s)}return await t.json()}async sendGet(s,e){const t=await fetch(this.baseUrl+s,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Basic "+e}});if(!t.ok)throw new Error(await t.json());return await t.json()}async sendGetNoAuth(s){const e=await fetch(this.baseUrl+s,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error(await e.json());return await e.json()}async sendDelete(s,e,t){const a=await fetch(this.baseUrl+s,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Basic "+t},body:JSON.stringify(e)});if(!a.ok)throw new Error(await a.json());return await a.json()}}},2624:(s,e,t)=>{t.r(e),t.d(e,{default:()=>m});var a=t(5043),r=t(9613),n=t(6446),i=t(5865),o=t(1637),d=t(3766),l=t(6605),c=t(710),h=t(5146),u=t(6879),x=t(1906),w=t(579);const j=new u.A,m=()=>{const{user:s,loginDetails:e}=(0,a.useContext)(r.c),[t,u]=(0,a.useState)(!0),[m,p]=(0,a.useState)(!1),[y,f]=(0,a.useState)(null),[A,b]=(0,a.useState)(!1),[g,C]=(0,a.useState)(""),[S,k]=(0,a.useState)(""),[T,E]=(0,a.useState)([]);(0,a.useEffect)((()=>{(async()=>{try{const s=await j.sendGet("admin",e);f(s);const t=await j.sendGet("admin/users",e);E(t)}catch(s){b(!0)}finally{u(!1)}})()}),[]);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(i.A,{fontSize:"xx-large",sx:{fontFamily:"Garamond"},children:"Admin page"}),(0,w.jsx)(n.A,{maxWidth:300,sx:{mx:"auto"},children:t?(0,w.jsx)(o.A,{}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(n.A,{sx:{width:300,mx:"auto",mt:4,paddingTop:1,paddingBottom:1,border:"1px solid",borderColor:"primary.darker",borderRadius:2,boxShadow:2},children:[(0,w.jsxs)(i.A,{children:["Users : ",y.users]}),(0,w.jsxs)(i.A,{children:["Lists : ",y.lists]}),(0,w.jsxs)(i.A,{children:["Items : ",y.items]}),(0,w.jsxs)(i.A,{children:["Shared lists : ",y.sharedLists]})]}),(0,w.jsx)(n.A,{sx:{width:300,mx:"auto",mt:4,paddingTop:1,paddingBottom:1,border:"1px solid",borderColor:"primary.darker",borderRadius:2,boxShadow:2},children:T.map((s=>(0,w.jsxs)(i.A,{children:[s.username," - ",s.email]})))}),(0,w.jsxs)(n.A,{maxWidth:300,sx:{mx:"auto"},children:[(0,w.jsx)("br",{}),(0,w.jsxs)(d.A,{sx:{mx:"auto",mt:2,border:"1px solid",borderColor:"primary.darker",borderRadius:2},children:[(0,w.jsx)(l.A,{children:(0,w.jsx)(n.A,{sx:{width:"100%",display:"flex",justifyContent:"center"},children:(0,w.jsx)(i.A,{children:"Reset User Password"})})}),(0,w.jsxs)(c.A,{children:[(0,w.jsx)(h.A,{fullWidth:!0,id:"username",label:"Username",variant:"outlined",value:g,onChange:s=>C(s.target.value)}),(0,w.jsx)(h.A,{fullWidth:!0,id:"password",label:"Password",type:"password",variant:"outlined",margin:"normal",value:S,onChange:s=>k(s.target.value)}),m?(0,w.jsx)(n.A,{sx:{display:"flex",justifyContent:"center",mt:4},children:(0,w.jsx)(o.A,{})}):(0,w.jsx)(x.A,{fullWidth:!0,variant:"outlined",sx:{mt:1,p:1},onClick:async()=>{p(!0);try{await j.sendPost("admin/resetPassword",{username:g,password:S},e)}catch(s){console.log("failed. ",s)}finally{p(!1)}},children:"Change password"})]})]})]})]})})]})}}}]);
//# sourceMappingURL=624.10f2e7d8.chunk.js.map