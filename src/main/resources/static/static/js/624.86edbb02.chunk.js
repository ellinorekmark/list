"use strict";(self.webpackChunklistig_react_ui=self.webpackChunklistig_react_ui||[]).push([[624],{6879:(s,t,e)=>{e.d(t,{A:()=>n});var a=e(9217);class n{constructor(){this.baseUrl=a.C}async sendPost(s,t,e){const a=await fetch(this.baseUrl+s,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Basic "+e},body:JSON.stringify(t)});if(!a.ok){console.log(await a.json());const s=await a.json();throw new Error(s)}return await a.json()}async sendPostNoLogin(s,t){const e=await fetch(this.baseUrl+s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok){const s=await e.json();throw new Error(s)}return await e.json()}async sendGet(s,t){const e=await fetch(this.baseUrl+s,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Basic "+t}});if(!e.ok)throw new Error(await e.json());return await e.json()}async sendDelete(s,t,e){const a=await fetch(this.baseUrl+s,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Basic "+e},body:JSON.stringify(t)});if(!a.ok)throw new Error(await a.json());return await a.json()}}},2624:(s,t,e)=>{e.r(t),e.d(t,{default:()=>w});var a=e(5043),n=e(9613),i=e(6446),o=e(5865),r=e(1637),d=e(5146),l=e(6879),c=e(1906),h=e(579);const u=new l.A,w=()=>{const{user:s,loginDetails:t}=(0,a.useContext)(n.c),[e,l]=(0,a.useState)(!0),[w,x]=(0,a.useState)(null),[j,p]=(0,a.useState)(!1),[f,m]=(0,a.useState)(""),[y,A]=(0,a.useState)("");(0,a.useEffect)((()=>{(async()=>{try{const s=await u.sendGet("admin",t);x(s)}catch(s){p(!0)}finally{l(!1)}})()}),[]);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(o.A,{fontSize:"xx-large",sx:{fontFamily:"Garamond"},children:"Admin page"}),(0,h.jsx)(i.A,{maxWidth:300,sx:{mx:"auto"},children:e?(0,h.jsx)(r.A,{}):(0,h.jsxs)(i.A,{sx:{width:300,mx:"auto",mt:4,paddingTop:1,paddingBottom:1,border:"1px solid #ccc",borderRadius:2,boxShadow:2},children:[(0,h.jsxs)(o.A,{children:["Users : ",w.users]}),(0,h.jsxs)(o.A,{children:["Lists : ",w.lists]}),(0,h.jsxs)(o.A,{children:["Items : ",w.items]}),(0,h.jsxs)(o.A,{children:["Shared lists : ",w.sharedLists]})]})}),(0,h.jsxs)(i.A,{maxWidth:300,sx:{mx:"auto"},children:[(0,h.jsx)(o.A,{children:"Reset user password"}),(0,h.jsx)(d.A,{fullWidth:!0,id:"username",label:"Username",variant:"outlined",value:f,onChange:s=>m(s.target.value)}),(0,h.jsx)(d.A,{fullWidth:!0,id:"password",label:"Password",type:"password",variant:"outlined",margin:"normal",value:y,onChange:s=>A(s.target.value)}),e?(0,h.jsx)(i.A,{sx:{display:"flex",justifyContent:"center",mt:4},children:(0,h.jsx)(r.A,{})}):(0,h.jsx)(c.A,{fullWidth:!0,variant:"outlined",sx:{mt:1,p:1},onClick:async()=>{l(!0);try{await u.sendPost("admin/resetPassword",{username:f,password:y},t)}catch(s){console.log("failed. ",s)}finally{l(!1)}},children:"Change password"})]})]})}}}]);
//# sourceMappingURL=624.86edbb02.chunk.js.map