"use strict";(self.webpackChunklistig_react_ui=self.webpackChunklistig_react_ui||[]).push([[570],{6879:(e,n,s)=>{s.d(n,{A:()=>t});var i=s(9217);class t{constructor(){this.baseUrl=i.C}async sendPost(e,n,s){const i=await fetch(this.baseUrl+e,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Basic "+s},body:JSON.stringify(n)});if(!i.ok){console.log(await i.json());const e=await i.json();throw new Error(e)}return await i.json()}async sendPostNoLogin(e,n){const s=await fetch(this.baseUrl+e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!s.ok){const e=await s.json();throw new Error(e)}return await s.json()}async sendGet(e,n){const s=await fetch(this.baseUrl+e,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Basic "+n}});if(!s.ok)throw new Error(await s.json());return await s.json()}async sendDelete(e,n,s){const i=await fetch(this.baseUrl+e,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Basic "+s},body:JSON.stringify(n)});if(!i.ok)throw new Error(await i.json());return await i.json()}}},9007:(e,n,s)=>{s.d(n,{A:()=>o});var i=s(5865),t=s(6446),r=(s(5043),s(579));const o=e=>{let{title:n}=e;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(t.A,{sx:{paddingTop:2},children:[(0,r.jsx)(i.A,{fontSize:"xx-large",sx:{fontFamily:"Garamond",color:"primary.main"},children:(0,r.jsx)("strong",{children:n})}),(0,r.jsx)("br",{})]})})}},5570:(e,n,s)=>{s.r(n),s.d(n,{default:()=>le});var i=s(5043),t=s(835),r=s(6446),o=s(1637),l=s(5865),a=s(9613),d=s(5081),c=s.n(d),x=s(7285),h=s(6879),u=s(7392),j=s(7555),p=s(3531),m=s(35),A=s(6600),g=s(5316),f=s(3766),y=s(6605),w=s(710),v=s(1906),C=s(9347),b=s(5146),S=s(3193),I=s(1659),L=s(6990),k=s(3471),E=s(579);const R=new h.A;function T(){return null}const W=e=>{let{list:n,updateCopy:s}=e;const{loginDetails:t}=(0,i.useContext)(a.c),[o,d]=(0,i.useState)(""),[c,x]=(0,i.useState)("VIEWER"),[h,j]=(0,i.useState)(!1),[p,m]=(0,i.useState)(""),A=n.editors||[],g=n.viewers||[],C=(e,i)=>{const t={...n,editors:"EDITOR"===i?[...A,e].filter((e=>!g.includes(e))):A.filter((n=>n!==e)),viewers:"VIEWER"===i?[...g,e].filter((e=>!A.includes(e))):g.filter((n=>n!==e))};console.log("updating users in HandleUsers, ",JSON.stringify(t)),s(t)},W=e=>{const i={...n,editors:A.filter((n=>n!==e)),viewers:g.filter((n=>n!==e))};s(i)};return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(f.A,{children:[(0,E.jsx)(y.A,{id:"panel-header","aria-controls":"panel-content",sx:{backgroundColor:"primary.main"},children:(0,E.jsx)(r.A,{sx:{width:"100%",display:"flex",justifyContent:"center"},children:(0,E.jsx)(l.A,{p:1,fontSize:"large",children:"Users"})})}),(0,E.jsxs)(w.A,{children:[(0,E.jsx)("br",{}),A.length>0||g.length>0?(0,E.jsxs)(E.Fragment,{children:[A.map(((e,n)=>(0,E.jsxs)(r.A,{sx:{display:"flex",alignItems:"center",marginBottom:1},children:[(0,E.jsx)(l.A,{sx:{flexGrow:1,marginLeft:2},children:e}),(0,E.jsx)(S.A,{sx:{width:100,marginRight:2},children:(0,E.jsxs)(I.A,{value:"EDITOR",onChange:n=>C(e,n.target.value),children:[(0,E.jsx)(L.A,{value:"EDITOR",children:"Editor"}),(0,E.jsx)(L.A,{value:"VIEWER",children:"Viewer"})]})}),(0,E.jsx)(u.A,{onClick:()=>W(e),color:"error",children:(0,E.jsx)(k.A,{})})]},n))),g.map(((e,n)=>(0,E.jsxs)(r.A,{sx:{display:"flex",alignItems:"center",marginBottom:1},children:[(0,E.jsx)(l.A,{sx:{flexGrow:1,marginLeft:2},children:e}),(0,E.jsx)(S.A,{sx:{width:100,marginRight:2},children:(0,E.jsxs)(I.A,{value:"VIEWER",onChange:n=>C(e,n.target.value),children:[(0,E.jsx)(L.A,{value:"EDITOR",children:"Editor"}),(0,E.jsx)(L.A,{value:"VIEWER",children:"Viewer"})]})}),(0,E.jsx)(u.A,{onClick:()=>W(e),color:"error",children:(0,E.jsx)(k.A,{})})]},n)))]}):(0,E.jsx)(l.A,{sx:{marginLeft:2},children:"No users, only you have access to this list."})]})]}),(0,E.jsxs)(f.A,{children:[(0,E.jsx)(y.A,{id:"panel-header","aria-controls":"panel-content",sx:{backgroundColor:"primary.main"},children:(0,E.jsx)(r.A,{sx:{width:"100%",display:"flex",justifyContent:"center"},children:(0,E.jsx)(l.A,{p:1,fontSize:"large",children:"Add User"})})}),(0,E.jsxs)(w.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,E.jsx)(S.A,{sx:{maxWidth:350,marginBottom:2},children:(0,E.jsx)(b.A,{inputProps:{maxLength:50},id:"new-item",label:"Username",variant:"outlined",value:o,onChange:e=>d(e.target.value),fullWidth:!0})}),(0,E.jsxs)(r.A,{sx:{display:"flex",justifyContent:"space-between",width:"100%",maxWidth:350},children:[(0,E.jsx)(S.A,{sx:{width:"48%"},children:(0,E.jsxs)(I.A,{defaultValue:"VIEWER",onChange:e=>{x(e.target.value)},inputProps:{name:"role",id:"uncontrolled-native"},sx:{width:"100%"},children:[(0,E.jsx)("option",{value:"VIEWER",children:"Viewer"}),(0,E.jsx)("option",{value:"EDITOR",children:"Editor"})]})}),h?(0,E.jsx)(T,{}):(0,E.jsx)(v.A,{onClick:async()=>{j(!0),m("");try{if(!0===await R.sendPost("user/userExists",{username:o},t)){const e={...n,editors:"EDITOR"===c?[...A,o]:A,viewers:"VIEWER"===c?[...g,o]:g};d(""),x("VIEWER"),s(e)}else m("The username does not exist.")}catch(e){m("An error occurred while checking the username.")}finally{j(!1)}},variant:"outlined",sx:{height:"56px",width:"48%"},children:"Add User"})]}),(0,E.jsx)("br",{}),(0,E.jsxs)(l.A,{color:"error",children:[" ",p]})]})]})]})},D=e=>{let{uList:n}=e;return(0,E.jsx)(E.Fragment,{children:(0,E.jsxs)(r.A,{p:2,children:[(0,E.jsxs)(r.A,{sx:{display:"flex"},children:[(0,E.jsx)(l.A,{fontSize:"large",sx:{fontFamily:"Garamond"},minWidth:100,children:(0,E.jsx)("strong",{children:"Owner: "})}),(0,E.jsx)(l.A,{fontSize:"large",children:n.owner})]}),!n.editors||0!==n.editors.length&&(0,E.jsxs)(r.A,{sx:{display:"flex"},children:[(0,E.jsx)(l.A,{fontSize:"large",sx:{fontFamily:"Garamond"},minWidth:100,children:(0,E.jsx)("strong",{children:"Editors: "})}),(0,E.jsx)(r.A,{children:n.editors.map((e=>(0,E.jsx)(l.A,{fontSize:"large",children:e},e)))})]}),!n.viewers||n.viewers.length>0&&(0,E.jsxs)(r.A,{sx:{display:"flex"},children:[(0,E.jsx)(l.A,{fontSize:"large",sx:{fontFamily:"Garamond"},minWidth:100,children:(0,E.jsx)("strong",{children:"Viewers: "})}),(0,E.jsx)(r.A,{children:n.viewers.map((e=>(0,E.jsx)(l.A,{fontSize:"large",children:e},e)))})]})]})})},z=e=>{let{list:n,updateCopy:s}=e;const{user:t}=(0,i.useContext)(a.c);return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(f.A,{children:[(0,E.jsx)(y.A,{id:"panel-header","aria-controls":"panel-content",sx:{backgroundColor:"primary.main"},children:(0,E.jsx)(r.A,{sx:{width:"100%",display:"flex",justifyContent:"center"},children:(0,E.jsx)(l.A,{p:1,fontSize:"large",children:"List Details"})})}),(0,E.jsxs)(w.A,{children:[(0,E.jsx)("br",{}),(0,E.jsx)(b.A,{inputProps:{maxLength:100},id:"list-title",label:"Title",variant:"outlined",value:n.listInfo.listName,onChange:e=>(e=>{const i={...n,listInfo:{...n.listInfo,listName:e}};s(i)})(e.target.value),fullWidth:!0,sx:{marginBottom:1}}),(0,E.jsx)(b.A,{inputProps:{maxLength:100},id:"list-desc",label:"Description (optional)",variant:"outlined",value:n.listInfo.listDesc,onChange:e=>(e=>{const i={...n,listInfo:{...n.listInfo,listDesc:e}};s(i)})(e.target.value),fullWidth:!0,sx:{marginBottom:1}}),(0,E.jsxs)(S.A,{children:[(0,E.jsx)(l.A,{children:"List type:"}),(0,E.jsxs)(I.A,{value:n.listInfo.type,onChange:e=>{const i={...n,listInfo:{...n.listInfo,type:e.target.value}};s(i)},sx:{width:200,marginBottom:2},children:[(0,E.jsx)(L.A,{value:"BASIC",children:"Normal"}),(0,E.jsx)(L.A,{value:"CHECK",children:"Checklist"})]})]})]})]}),n.owner===t.username?(0,E.jsx)(W,{list:n,updateCopy:s}):(0,E.jsxs)(f.A,{children:[(0,E.jsx)(y.A,{id:"panel-header","aria-controls":"panel-content",sx:{backgroundColor:"primary.main"},children:(0,E.jsx)(r.A,{sx:{width:"100%",display:"flex",justifyContent:"center"},children:(0,E.jsx)(l.A,{p:1,fontSize:"large",children:"Users"})})}),(0,E.jsx)(w.A,{children:(0,E.jsx)(D,{uList:n})})]})]})};var F=s(3159),P=s(9007);const O=new h.A,B=e=>{let{uList:n,updateList:s}=e;const{loginDetails:o,user:d}=(0,i.useContext)(a.c),[c,x]=(0,i.useState)(!1),[h,j]=(0,i.useState)({...n}),[p,b]=(0,i.useState)(!1),S=(0,t.Zp)();function I(){x(!1)}function L(){return n.owner===d.username}return(0,i.useEffect)((()=>{b(L)}),[d]),(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(u.A,{variant:"outlined",onClick:function(){x(!0)},sx:{color:"secondary.main"},children:(0,E.jsx)(F.A,{})}),(0,E.jsxs)(m.A,{fullScreen:!0,open:c,onClose:I,children:[(0,E.jsx)(A.A,{textAlign:"center",children:(0,E.jsx)(P.A,{title:"Edit List"})}),(0,E.jsx)(g.A,{children:(0,E.jsxs)(r.A,{maxWidth:400,sx:{mx:"auto",cursor:"pointer",border:"1px solid ",borderColor:"primary.darker",marginTop:"5px",borderRadius:"5px"},variant:"contained",children:[(0,E.jsx)(z,{list:h,updateCopy:function(e){j(e)}}),p?(0,E.jsxs)(f.A,{children:[(0,E.jsx)(y.A,{id:"panel-header","aria-controls":"panel-content",sx:{backgroundColor:"primary.main"},children:(0,E.jsx)(r.A,{sx:{width:"100%",display:"flex",justifyContent:"center"},children:(0,E.jsx)(l.A,{p:1,fontSize:"large",children:"Delete list"})})}),(0,E.jsxs)(w.A,{sx:{justifyContent:"center"},children:[(0,E.jsxs)(l.A,{textAlign:"center",p:1,children:["Warning: ",(0,E.jsx)("br",{}),"Deleting a list cannot be reversed."]}),(0,E.jsx)(v.A,{onClick:async function(){await O.sendDelete("list",n.listInfo.id,o),x(!1),S("/web/overview")},variant:"contained",sx:{padding:2},color:"warning",fullWidth:!0,children:"Delete list"})]})]}):(0,E.jsxs)(f.A,{children:[(0,E.jsx)(y.A,{id:"panel-header","aria-controls":"panel-content",sx:{backgroundColor:"primary.darker"},children:(0,E.jsx)(r.A,{sx:{width:"100%",display:"flex",justifyContent:"center"},children:(0,E.jsx)(l.A,{p:1,fontSize:"large",children:"Leave"})})}),(0,E.jsxs)(w.A,{sx:{justifyContent:"center"},children:[(0,E.jsxs)(l.A,{textAlign:"center",p:1,children:["Warning: ",(0,E.jsx)("br",{}),"If you want to come back, the owner will have to add you again."]}),(0,E.jsx)(v.A,{onClick:async function(){await O.sendPost("list/removeUser",{user:d.username,listId:n.listInfo.id},o),x(!1),S("/web/overview")},variant:"contained",sx:{padding:2},color:"warning",fullWidth:!0,children:"Leave list"})]})]})]})}),(0,E.jsxs)(C.A,{sx:{justifyContent:"center"},children:[(0,E.jsx)(v.A,{onClick:I,variant:"contained",children:"Cancel"}),(0,E.jsx)(v.A,{onClick:function(){let e=[],i=[];n.editors!==h.editors&&(e=n.editors.filter((e=>!h.editors.includes(e)))),n.viewers!==h.viewers&&(i=n.viewers.filter((e=>!h.viewers.includes(e)))),e.concat(i).forEach((e=>{O.sendPost("list/removeUser",{user:e,listId:n.listInfo.id},o)})),console.log("This is the updated, copy:",JSON.stringify(h)),s(h),x(!1)},variant:"contained",children:"Save Changes"})]})]})]})};var U=s(5721),N=s(1322),V=s(3851),G=s(8734),J=s(4208),H=s(6581),_=s(4109);const K=e=>{let{uList:n,updateList:s}=e;const{user:t}=(0,i.useContext)(a.c),[o,l]=(0,i.useState)((()=>t.username===n.owner||n.editors.includes(t.username)));return(0,E.jsx)(E.Fragment,{children:(0,E.jsx)(U.A,{children:n.items.map((e=>{return(0,E.jsxs)(N.Ay,{sx:{cursor:"pointer",border:"1px solid ",borderColor:"primary.darker",marginTop:"5px",borderRadius:"5px"},onClick:()=>(e=>{if(o){const i=n.items.map((n=>n.id===e?{...n,itemStatus:"1"===n.itemStatus?"":"1"}:n));s({...n,items:i})}})(e.id),children:[(0,E.jsx)(V.A,{children:(0,E.jsx)(r.A,{children:(i=e.itemStatus,"1"===i?(0,E.jsx)(H.A,{sx:{color:"secondary.main"}}):(0,E.jsx)(_.A,{sx:{color:"secondary.main"}}))})}),(0,E.jsx)(G.A,{primary:e.item,primaryTypographyProps:{fontSize:"18px"}}),(0,E.jsx)(u.A,{edge:"end",children:(0,E.jsx)(J.A,{})})]},e.id);var i}))})})},Z=e=>{let{uList:n}=e;return(0,E.jsx)(E.Fragment,{children:(0,E.jsx)(U.A,{children:n.items.map((e=>(0,E.jsxs)(N.Ay,{sx:{cursor:"pointer",border:"1px solid ",borderColor:"primary.darker",marginTop:"5px",borderRadius:"5px"},children:[(0,E.jsx)(V.A,{children:(0,E.jsx)(r.A,{})}),(0,E.jsx)(G.A,{primary:e.item,primaryTypographyProps:{fontSize:"18px"}}),(0,E.jsx)(u.A,{edge:"end",children:(0,E.jsx)(J.A,{})})]},e.id)))})})};var M=s(6893),Y=s(635),q=s(9409),Q=s(155);const X=e=>{let{uList:n,updateList:s}=e;return(0,E.jsx)(E.Fragment,{children:(0,E.jsx)(U.A,{children:(0,E.jsx)(Y.JY,{onDragEnd:e=>{if(!e.destination)return;const i=e.source.index,t=e.destination.index,r=[...n.items],[o]=r.splice(i,1);r.splice(t,0,o),n.items=r,s(n)},children:(0,E.jsx)(Y.gL,{droppableId:"items",children:e=>(0,E.jsxs)(r.A,{ref:e.innerRef,...e.droppableProps,children:[n.items.map(((e,i)=>(0,E.jsx)(Y.sx,{index:i,draggableId:e.id+"",children:i=>(0,E.jsxs)(N.Ay,{ref:i.innerRef,...i.draggableProps,...i.dragHandleProps,sx:{cursor:"pointer",border:"1px solid ",borderColor:"primary.darker",marginTop:"5px",borderRadius:"5px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,E.jsx)(V.A,{children:(0,E.jsx)(r.A,{children:(0,E.jsx)(q.A,{})})}),(0,E.jsx)(G.A,{primary:e.item,primaryTypographyProps:{fontSize:"18px"}}),(0,E.jsx)(u.A,{edge:"end","aria-label":"delete",onClick:()=>(e=>{const i={...n,items:n.items.filter((n=>n.id!==e))};s(i)})(e.id),children:(0,E.jsx)(Q.A,{})})]})},e.id))),e.placeholder]})})})})})};var $=s(2505);const ee=e=>{let{uList:n,updateList:s}=e;const[t,o]=(0,i.useState)("");return(0,E.jsx)(E.Fragment,{children:(0,E.jsxs)(r.A,{sx:{display:"flex",alignItems:"center",mt:2},children:[(0,E.jsx)(b.A,{inputProps:{maxLength:33},id:"new-item",label:"New Item",variant:"outlined",value:t,onChange:e=>o(e.target.value),fullWidth:!0,sx:{height:"56px"},InputProps:{sx:{borderTopRightRadius:0,borderBottomRightRadius:0,"& .MuiOutlinedInput-notchedOutline":{borderTopRightRadius:0,borderBottomRightRadius:0},height:"56px",borderColor:"primary.darker"}}}),(0,E.jsx)(v.A,{onClick:()=>{if(""===t.trim())return;const e={listId:n.listInfo.id,item:t},i={...n,items:[...n.items,e]};s(i),o("")},variant:"outlined",sx:{borderTopLeftRadius:0,borderBottomLeftRadius:0,height:"56px",minWidth:"56px"},children:(0,E.jsx)($.A,{})})]})})};var ne=s(8348);const se=new h.A,ie=e=>{let{uList:n}=e;const{loginDetails:s,user:o}=(0,i.useContext)(a.c),[d,c]=(0,i.useState)(!1),x=(0,t.Zp)();function h(){c(!1)}return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(u.A,{variant:"outlined",onClick:function(){c(!0)},sx:{color:"secondary.main"},children:(0,E.jsx)(ne.A,{})}),(0,E.jsxs)(m.A,{fullScreen:!0,open:d,onClose:h,children:[(0,E.jsx)(A.A,{children:(0,E.jsx)(r.A,{sx:{paddingTop:2},children:(0,E.jsx)(l.A,{fontSize:"xx-large",sx:{fontFamily:"Garamond",textAlign:"center"},children:"List Info"})})}),(0,E.jsx)(g.A,{children:(0,E.jsxs)(r.A,{maxWidth:400,sx:{mx:"auto",border:"1px solid ",borderColor:"primary.darker",marginTop:"5px",borderRadius:"5px"},variant:"contained",children:[(0,E.jsx)(D,{uList:n}),(0,E.jsxs)(f.A,{children:[(0,E.jsx)(y.A,{id:"panel-header","aria-controls":"panel-content",sx:{backgroundColor:"primary.main"},children:(0,E.jsx)(r.A,{sx:{width:"100%",display:"flex",justifyContent:"center"},children:(0,E.jsx)(l.A,{p:1,fontSize:"large",children:"Leave"})})}),(0,E.jsxs)(w.A,{sx:{justifyContent:"center"},children:[(0,E.jsxs)(l.A,{textAlign:"center",p:1,children:["Warning: ",(0,E.jsx)("br",{}),"If you want to come back, the owner will have to add you again."]}),(0,E.jsx)(v.A,{onClick:async function(){await se.sendPost("list/removeUser",{user:o.username,listId:n.listInfo.id},s),c(!1),x("/web/overview")},variant:"contained",sx:{padding:2},color:"error",fullWidth:!0,children:"Leave list"})]})]})]})}),(0,E.jsx)(C.A,{sx:{justifyContent:"center"},children:(0,E.jsx)(v.A,{onClick:h,variant:"contained",children:"Close"})})]})]})},te=e=>{let{uList:n,updateList:s}=e;const{user:t}=(0,i.useContext)(a.c),[o,d]=(0,i.useState)(!0),[c,x]=(0,i.useState)((()=>t.username===n.owner||n.editors.includes(t.username)));return(0,E.jsx)(E.Fragment,{children:(0,E.jsxs)(r.A,{maxWidth:750,sx:{mx:"auto"},variant:"contained",children:[(0,E.jsxs)(r.A,{children:[(0,E.jsx)(P.A,{title:n.listInfo.listName}),(0,E.jsxs)(r.A,{sx:{display:"grid",border:"1px solid ",borderColor:"primary.darker",borderRadius:2,m:2},children:[(0,E.jsx)(r.A,{sx:{marginBottom:2,gridRow:"1",gridColumn:"1 / 2",m:1},children:(0,E.jsxs)(l.A,{fontSize:"large",sx:{fontFamily:"Garamond",textAlign:"left"},children:[n.listInfo.listDesc,(0,E.jsx)("br",{})]})}),(0,E.jsxs)(r.A,{sx:{gridRow:"1",gridColumn:"3"},children:[(0,E.jsx)(u.A,{variant:"outlined",onClick:()=>{d(!o)},children:o?(0,E.jsx)(j.A,{sx:{color:"secondary.main"}}):(0,E.jsx)(p.A,{sx:{color:"secondary.main"}})}),c?(0,E.jsx)(B,{uList:n,updateList:s}):(0,E.jsx)(ie,{uList:n})]}),(0,E.jsx)(l.A,{sx:{gridRow:"2",gridColumn:"1 / 3",textAlign:"left",p:1},children:(()=>{if(n.owner===t.username&&0===n.editors.length&&0===n.viewers.length)return(0,E.jsx)("br",{});{const e=[...n.editors,...n.viewers].join(", "),s=n.owner+", "+e;return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(M.A,{sx:{verticalAlign:"middle",mr:1}}),s]})}})()})]})]}),o?(0,E.jsx)(r.A,{children:(h=n,"CHECK"===h.listInfo.type?(0,E.jsx)(K,{uList:n,updateList:s}):(0,E.jsx)(Z,{uList:n}))}):(0,E.jsx)(X,{uList:n,updateList:s}),c&&(0,E.jsx)(ee,{uList:n,updateList:s})]})});var h};var re=s(9217);const oe=new h.A,le=()=>{const{id:e}=(0,t.g)(),{loginDetails:n}=(0,i.useContext)(a.c),[s,d]=(0,i.useState)(!0),[h,u]=(0,i.useState)(null),[j,p]=(0,i.useState)(null),[m,A]=(0,i.useState)(!1);(0,i.useEffect)((()=>{(async()=>{try{const s=await oe.sendGet("list/".concat(e),n);u(s)}catch(s){A(!0)}finally{d(!1)}})();const s=new(c())(re.y),i=new x.K({webSocketFactory:()=>s,onConnect:()=>{console.log("Connected to WebSocket"),i.subscribe("/topic/list/".concat(e),(e=>{const n=JSON.parse(e.body);u(n)}))},onStompError:e=>{console.error("Broker reported error: "+e.headers.message),console.error("Additional details: "+e.body)}});return i.activate(),p(i),()=>{i&&i.connected&&i.deactivate()}}),[e,n]);return(0,E.jsx)(E.Fragment,{children:s?(0,E.jsxs)(r.A,{children:[(0,E.jsx)(o.A,{}),(0,E.jsx)(l.A,{children:"Loading List"})]}):(0,E.jsx)(E.Fragment,{children:m?(0,E.jsx)(l.A,{children:"Unable to load list."}):(0,E.jsx)(te,{uList:h,updateList:n=>{u(n),j&&j.connected&&(j.publish({destination:"/app/list/".concat(e),body:JSON.stringify(n)}),console.log("Sent update to WebSocket"))}})})})}}}]);
//# sourceMappingURL=570.852a41fa.chunk.js.map